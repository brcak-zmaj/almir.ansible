# Default Configuration for vzdump

# Temporary directory for storing data while processing the backup
tmpdir: {{ tmpdir | default('/tmp') }}

{% if dumpdir is defined %}
# Directory to store backup dump files
dumpdir: {{ dumpdir }}
{% endif %}

{% if storage is defined %}
# Specify a storage ID to use for backup storage
storage: {{ storage }}
{% endif %}

{% if mode is defined %}
# Backup mode:
# - snapshot: Take a snapshot of the VM
# - suspend: Suspend the VM during backup
# - stop: Stop the VM before backup
mode: {{ mode }}
{% endif %}

# Bandwidth limit for backup (in kilobytes per second)
bwlimit: {{ bwlimit | default(0) }}

# Ionice class value for the backup process (0-7)
ionice: {{ ionice | default(4) }}

{% if lockwait is defined %}
# Wait time for acquiring lock before the backup starts
lockwait: {{ lockwait }}
{% endif %}

{% if stopwait is defined %}
# Wait time for stopping the VM before backup starts
stopwait: {{ stopwait }}
{% endif %}

{% if stdexcludes is defined %}
# Whether to exclude standard system directories from backup
stdexcludes: {{ stdexcludes }}
{% endif %}

{% if mailto is defined %}
# List of email addresses to send backup status notifications
mailto: {{ mailto }}
{% endif %}

{% if prune_backups is defined %}
# Specify how many backups to keep based on an INTERVAL:
# - keep-hourly
# - keep-daily
# - keep-weekly
# - keep-monthly
# - keep-yearly
prune-backups: {{ prune_backups }}
{% endif %}

{% if script is defined %}
# Specify a script to run before and after backup
script: {{ script }}
{% endif %}

{% if exclude_path is defined %}
# List of paths to exclude from the backup
exclude-path: {{ exclude_path }}
{% endif %}
