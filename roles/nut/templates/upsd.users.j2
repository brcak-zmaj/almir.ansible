# {{ ansible_managed }}
# =============================================================================
# UPSD Users Configuration File - /etc/nut/upsd.users
# =============================================================================
#
# User authentication for connecting to upsd.
# Each user has credentials and permissions for UPS operations.
#

{% for user in nut_upsd_users %}
[{{ user.username }}]
    password = {{ user.password }}
{% if user.upsmon is defined %}
    upsmon {{ user.upsmon }}
{% endif %}
{% if user.instcmds is defined %}
{% for cmd in user.instcmds %}
    instcmds = {{ cmd }}
{% endfor %}
{% endif %}
{% if user.actions is defined %}
{% for action in user.actions %}
    actions = {{ action }}
{% endfor %}
{% endif %}

{% endfor %}
