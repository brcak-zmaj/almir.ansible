---
# Platform to archive mapping
# Maps ansible_system + ansible_architecture to download artifact name

_uv_platform_map:
  # Linux x86_64
  Linux_x86_64_gnu: "uv-x86_64-unknown-linux-gnu.tar.gz"
  Linux_x86_64_musl: "uv-x86_64-unknown-linux-musl.tar.gz"
  # Linux aarch64/arm64
  Linux_aarch64_gnu: "uv-aarch64-unknown-linux-gnu.tar.gz"
  Linux_aarch64_musl: "uv-aarch64-unknown-linux-musl.tar.gz"
  # Linux armv7
  Linux_armv7l_gnu: "uv-armv7-unknown-linux-gnueabihf.tar.gz"
  Linux_armv7l_musl: "uv-armv7-unknown-linux-musleabihf.tar.gz"
  # Linux arm (32-bit)
  Linux_armv6l_musl: "uv-arm-unknown-linux-musleabihf.tar.gz"
  # Linux i686
  Linux_i686_gnu: "uv-i686-unknown-linux-gnu.tar.gz"
  Linux_i686_musl: "uv-i686-unknown-linux-musl.tar.gz"
  # Linux powerpc64
  Linux_ppc64le_gnu: "uv-powerpc64le-unknown-linux-gnu.tar.gz"
  Linux_ppc64_gnu: "uv-powerpc64-unknown-linux-gnu.tar.gz"
  # Linux s390x
  Linux_s390x_gnu: "uv-s390x-unknown-linux-gnu.tar.gz"
  # Linux riscv64
  Linux_riscv64_gnu: "uv-riscv64gc-unknown-linux-gnu.tar.gz"
  # macOS
  Darwin_x86_64: "uv-x86_64-apple-darwin.tar.gz"
  Darwin_arm64: "uv-aarch64-apple-darwin.tar.gz"

# Minimum glibc versions required for gnu builds
_uv_glibc_requirements:
  x86_64: "2.17"
  aarch64: "2.28"
  armv7l: "2.17"
  i686: "2.17"
  ppc64le: "2.17"
  ppc64: "2.17"
  s390x: "2.17"
  riscv64: "2.31"

# Binaries included in the archive
_uv_binaries:
  - uv
  - uvx

# Archive extension by OS
_uv_archive_ext:
  Linux: ".tar.gz"
  Darwin: ".tar.gz"

# GitHub releases URL template
_uv_releases_url: "{{ uv_github_base_url }}/astral-sh/uv/releases"
