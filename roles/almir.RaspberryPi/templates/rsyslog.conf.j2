# {{ ansible_managed }} - {{ ansible_date_time.iso8601 }}
# Rsyslog Configuration for Raspberry Pi
# Optimized to reduce SD card wear

# Rotate logs when they reach max size
$MaxMessageSize {{ rpi_syslog_max_size | default('10M') }}

# Enable log rotation
$WorkDirectory /var/spool/rsyslog
$ActionQueueType LinkedList
$ActionQueueFileName srvrfwd
$ActionResumeRetryCount -1
$ActionQueueSaveOnShutdown on

# Compress old logs
$ActionFileDefaultTemplate RSYSLOG_TraditionalFileFormat
$ActionFileEnableSync on

